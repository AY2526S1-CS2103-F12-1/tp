@startuml
!include style.puml

start

:User enters "create-team Engineering E0001";
@startuml
!include style.puml

start

:User enters "add-to-team E0001 Engineering";

partition "Input Validation" {
  :Parse employee ID and team name;

  if (Employee ID exists?) then (no)
    :Show error message;
    note right
      "Employee with this ID not found"
    end note
    stop
  endif

  if (Team exists?) then (no)
    :Show error message;
    note right
      "Team not found"
    end note
    stop
  endif
}

partition "Membership Check" {
  :Get team members list;

  if (Employee already in team?) then (yes)
    :Show error message;
    note right
      "Employee is already a member
      of this team"
    end note
    stop
  endif
}

partition "Update Team" {
  :Add employee to team members;
  :Update team in model;
}

:Display success message;
note right
  "Added [Employee Name] to [Team Name]"
end note

stop

@enduml
partition "Input Validation" {
  :Parse command arguments;

  if (Team name empty?) then (yes)
    :Show error message;
    note right
      "Team name cannot be empty"
    end note
    stop
  endif

  if (Team name already exists?) then (yes)
    :Show error message;
    note right
      "Team with this name already exists"
    end note
    stop
  endif

  if (Leader ID provided?) then (yes)
    if (Leader exists?) then (no)
      :Show error message;
      note right
        "Employee with this ID not found"
      end note
      stop
    endif
  endif
}

partition "Team Creation" {
  :Generate team ID;
  note right
    Use monotonic increment
    Format: "T%04d"
  end note

  :Create team object;

  if (Leader provided?) then (yes)
    :Assign leader to team;
  endif

  :Add team to model;
}

:Display success message;
note right
  "New team added: [Team Name]"
  "Team ID: [Generated ID]"
end note

stop

@enduml
